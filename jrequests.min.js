const r={errorLog:[],lastError:null,errorHandler:(xhr,error)=>(console.error("Error global:",error,xhr),r.lastError={xhr,error,time:new Date()},r.errorLog.push(r.lastError)),consulta:o=>{if(!o||!o.url)return console.error("Se requiere una URL para la solicitud.");XConsulta({url:o.url,datos:o.datos||{},type:o.type||"GET",dataType:o.dataType||"json",respuesta:o.respuesta||function(){},error:o.error||(o.usarErrorGlobal?r.errorHandler:function(){}),completado:o.completado||function(){},headers:o.headers||{},enviarComoFormData:o.enviarComoFormData||!1,controller:o.controller||null})},cancelar:c=>{c&&typeof c.abort=="function"&&c.abort()},log:()=>console.table(r.errorLog)};
